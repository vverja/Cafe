////////////////////////////////////////////////////////////////////////////////
// НАЛОГООБЛОЖЕНИЕ НДС

Функция СтавкаНДСПоУмолчанию() Экспорт
	Возврат Перечисления.СтавкиНДС.НДС20;
КонецФункции // СтавкаНДСПоУмолчанию()

// Возвращает числовое значение ставки НДС по значению перечисления
//
// Параметры:
// 		СтавкаНДС - ПеречислениеСсылка.СтавкиНДС - значение перечисления СтавкиНДС
//
// Возвращаемое значение:
// 		Число - Значение ставки НДС числом
//
Функция ПолучитьСтавкуНДСЧислом(СтавкаНДС) Экспорт
	
	Если СтавкаНДС = ПредопределенноеЗначение("Перечисление.СтавкиНДС.НДС20") Тогда
		Возврат 0.20;
    ИначеЕсли СтавкаНДС = ПредопределенноеЗначение("Перечисление.СтавкиНДС.НДС14") Тогда
    	Возврат 0.14;
	ИначеЕсли СтавкаНДС = ПредопределенноеЗначение("Перечисление.СтавкиНДС.НДС7") Тогда
		Возврат 0.07;
	Иначе
		Возврат 0;
	КонецЕсли;
	
КонецФункции // ПолучитьСтавкуНДСЧислом()

Функция ОпределитьНалоговоеНазначениеПоНалогообложениюНДС(НалогообложениеНДС) Экспорт

	Если НалогообложениеНДС = Перечисления.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС Тогда 
		Возврат Справочники.НалоговыеНазначенияАктивовИЗатрат.НДС_Облагаемая;
	Иначе
		Возврат Справочники.НалоговыеНазначенияАктивовИЗатрат.НДС_НеоблагаемаяХозДеятельность;
	КонецЕсли; 
	
КонецФункции // ОпределитьНалоговоеНазначениеПоНалогообложениюНДС

Функция НалогообложениеНДСНалоговогоНазначения(Знач НалоговоеНазначение) Экспорт
	
	ВидДеятельностиНДС = НалоговоеНазначение.ВидДеятельностиНДС;
	Если ВидДеятельностиНДС = Перечисления.ВидыДеятельностиНДС.Облагаемая Тогда
		Возврат Перечисления.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС;
	ИначеЕсли ВидДеятельностиНДС = Перечисления.ВидыДеятельностиНДС.Необлагаемая Тогда 
		Возврат Перечисления.ТипыНалогообложенияНДС.ПродажаНеОблагаетсяНДС;
	ИначеЕсли ВидДеятельностиНДС = Перечисления.ВидыДеятельностиНДС.ПропорциональноОблагаемая Тогда 	
		Возврат Перечисления.ТипыНалогообложенияНДС.ПродажаОблагаетсяНДС;
	КонецЕсли; 
	
КонецФункции // НалогообложениеНДСНалоговогоНазначения

Функция ОпределитьНалоговоеНазначениеПродажиПоСтавкеНДС(Знач Организация, Знач Дата, Знач СтавкаНДС) Экспорт

	ОрганизацияПлательщикНДС = НДСОбщегоНазначенияПовтИсп.ОрганизацияПлательщикНДС(Организация, Дата);
	
	Если НЕ ОрганизацияПлательщикНДС Тогда
		Возврат Справочники.НалоговыеНазначенияАктивовИЗатрат.НДС_НеоблагаемаяХозДеятельность;
	ИначеЕсли СтавкаНДС = Перечисления.СтавкиНДС.БезНДС Тогда 	
		Возврат Справочники.НалоговыеНазначенияАктивовИЗатрат.НДС_НеоблагаемаяХозДеятельность;
	ИначеЕсли СтавкаНДС = Перечисления.СтавкиНДС.НеНДС Тогда 		
		Возврат Справочники.НалоговыеНазначенияАктивовИЗатрат.НДС_НеоблагаемаяХозДеятельность;
	Иначе
		Возврат Справочники.НалоговыеНазначенияАктивовИЗатрат.НДС_Облагаемая;
	КонецЕсли; 
	
КонецФункции // ОпределитьНалоговоеНазначениеПродажиПоСтавкеНДС


// Возвращает - является ли организация плательщиком НДС
//
// Параметры:
// Организация - СправочникСсылка.Организации
//
// Возвращаемое значение:
// 	Дата - Дата - дата получения сведений
//
// Возвращаемое значение:
// 	Булево -  Истина - организация плательщик НДС, Ложь - организация неплательщик НДС
//
Функция ОрганизацияПлательщикНДС(Организация, Дата) Экспорт
	Возврат Справочники.Организации.ПлательщикНДС(Организация, Дата);
КонецФункции // ОрганизацияПлательщикНДС()

Функция ОрганизацияПлательщикНДСПриостановлен(Организация, Дата) Экспорт
	
	Результат = Ложь;
	
	ПараметрыУчетнойПолитики = РегистрыСведений.УчетнаяПолитикаОрганизаций.ПараметрыУчетнойПолитики(Организация, Дата);
	Если ПараметрыУчетнойПолитики <> Неопределено Тогда
		Результат = ПараметрыУчетнойПолитики.СистемаНалогообложения = Перечисления.СистемыНалогообложения.ЕдиныйНалогИНДС
			И ПараметрыУчетнойПолитики.ГруппаПлательщикаЕдиногоНалога = Перечисления.ГруппыПлательщиковЕдиногоНалога.ТретьяГруппаОсобая;
	КонецЕсли;
	
	Возврат Результат;
	
КонецФункции

Функция ДатаВступленияВСилуПриказа1307() Экспорт
	Возврат '2016-04-01';
КонецФункции // ДатаВступленияВСилуПриказа1307()

Функция ВключатьНДСВСебестоимостьПриУсловнойПродаже() Экспорт
	Возврат Истина;
КонецФункции // ВключатьНДСВСебестоимостьПриУсловнойПродаже()
 
Функция ИсключатьНДСИзСебестоимостиПриВосстановленииНДС() Экспорт
	Возврат Ложь;
КонецФункции // ИсключатьНДСИзСебестоимостиПриВосстановленииНДС()

Функция ПолучитьКоэффициентПропорциональногоНДСКредит(Организация, Период) Экспорт
	
	УстановитьПривилегированныйРежим(Истина);
	
	СтруктураОтбора = Новый Структура("Организация, СпецРежимНалогообложения", Организация, 0);
	
	ТаблицаКоэффициентов = РегистрыСведений.КоэффициентыПропорциональногоОтнесенияНДСНаКредит.СрезПоследних(Период, СтруктураОтбора);
	
	Если ТаблицаКоэффициентов.Количество() = 0 Тогда
		
		Возврат 0;		
		
	Иначе
		
		Возврат ТаблицаКоэффициентов[0].Коэффициент;		
		
	КонецЕсли;
	
КонецФункции	

Функция ПолучитьКоэффициентПропорциональногоНДСОбязательтсва(Организация, Период) Экспорт
	Возврат (1 - ПолучитьКоэффициентПропорциональногоНДСКредит(Организация, Период));
КонецФункции	

Функция ДатаНачалаДействияФормыНДС14() Экспорт
    Возврат '2021-03-01';
КонецФункции 


