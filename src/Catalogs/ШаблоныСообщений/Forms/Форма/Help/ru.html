<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html;charset=utf-8" http-equiv="content-type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.10240.17202"></meta></head><body>
<h1>Шаблоны сообщений</h1>
<p style="MARGIN-LEFT: 0px">Справочник предназначен для описания правил, на основании которых в соответствии с принятыми на предприятиями стандартами деловой переписки осуществляется обмен электронными письмами, а также сообщениями SMS.<br>Шаблоны сообщений позволяют повысить скрость работы менеджеров, а также точность передаваемой адресатам информации. Это достигается тем, что данные при формировании сообщений получаются непосредственно из информационной базы, что снижает риск ошибок. Кроме того, при помощи используемых шаблонов становится возможным соблюдение стандартов деловой переписки.</p>
<p style="MARGIN-LEFT: 0px"></p>
<table bgcolor="#eeeeff" border="0"><tbody><tr><td><tt>Например, необходимо проинформировать клиента о изменении статуса его заказа. В этом случае клиентам отправляются электронные письма и/или сообщения SMS которые содержат одинаковый текст, и меняется только адресат сообщения, наименование клиента, номер заказа и текущий статус. Механизм шаблонов сообщений позволяет задать правила формирования подобного сообщения таким образом, что пользователю достаточно будет указать заказ, у которого изменился статус, и в несколько кликов мышкой отправить нужному адресату сообщение в которое автоматически подставятся необходимые данные.</tt></td></tr></tbody></table><p style="MARGIN-BOTTOM: 5px; MARGIN-TOP: 0px; MARGIN-LEFT: 20px"><a href="Catalog.ШаблоныСообщений/Help">Виды взаимодействий</a></p>
<p style="MARGIN-BOTTOM: 5px; MARGIN-TOP: 0px; MARGIN-LEFT: 20px"><a href="Catalog.ШаблоныСообщений/Help">Использование шаблонов </a></p>
<hr></hr><p style="MARGIN-BOTTOM: 5px; MARGIN-TOP: 0px; MARGIN-LEFT: 20px"><a href="#70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fa9d638428d4">Назначение шаблона</a></p>
<p style="MARGIN-BOTTOM: 5px; MARGIN-TOP: 0px; MARGIN-LEFT: 20px"><a href="#70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2faa3789fd9ca">Использование внешней обработки</a></p>
<p style="MARGIN-BOTTOM: 5px; MARGIN-TOP: 0px; MARGIN-LEFT: 20px"><a href="#70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2faae8a68c6a3">Флаг <b>Вводится на основании</b></a></p>
<p style="MARGIN-BOTTOM: 5px; MARGIN-TOP: 0px; MARGIN-LEFT: 20px"><a href="#70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fab0c86f8c09">Выбор взаимодействия</a></p>
<p style="MARGIN-BOTTOM: 5px; MARGIN-TOP: 0px; MARGIN-LEFT: 20px"><a href="#70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fab25b391f7f">Параметры шаблона</a></p>
<p style="MARGIN-BOTTOM: 5px; MARGIN-TOP: 0px; MARGIN-LEFT: 20px"><a href="#70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fb3a657bfaa0">Добавление параметров в шаблоны текста </a></p>
<p style="MARGIN-BOTTOM: 5px; MARGIN-TOP: 0px; MARGIN-LEFT: 20px"><a href="#70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fb412177144a">Создание шаблонов в формате HTML</a></p>
<p style="MARGIN-BOTTOM: 5px; MARGIN-TOP: 0px; MARGIN-LEFT: 20px"><a href="#70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fb3d8a439b22">Приложение печатныех форм</a></p>
<p style="MARGIN-BOTTOM: 5px; MARGIN-TOP: 0px; MARGIN-LEFT: 20px"><a href="#70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fb3f877652cc">Проверка шаблонов</a></p><a name="70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fa9d638428d4">
<h3 style="MARGIN-LEFT: 0px">Назначение шаблона</h3></a>
<p style="MARGIN-LEFT: 20px"><br>В данном поле необходимо указывать информацию о назначении шаблона, в соответствии с которой можно будет найти подходящий задаче пользователя шаблон.</p>
<p style="MARGIN-LEFT: 20px"></p>
<table bgcolor="#eeeeff" border="0"><tbody><tr><td><tt>Пример. Для шаблона, который предназначен для оповещения покупателей о изменении статуса заказа целесообразно указать назначение "Оповещение при изменении статуса заказа клиента".</tt></td></tr></tbody></table><a name="70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2faa3789fd9ca">
<h3 style="MARGIN-LEFT: 0px">Использование внешней обработки</h3></a>
<p style="MARGIN-LEFT: 20px"><br>Переключатель <b>Тип формирования сообщения</b> устанавливается в положение <b>Внешней обработкой</b> в случаях, когда для формирования сообщения требуются использовать более сложные алгоритмы получения данных и формирования выводимой информации, чем может предоставить стандартный механизм шаблонов. При этом необходимо будет указать внешнюю обработку, в которой реализована необходимая логика. Остальные реквизиты формы станут недоступными.<br><br></p><a name="70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2faae8a68c6a3">
<h3 style="MARGIN-LEFT: 0px">Флаг <b>Вводится на основании</b></h3></a>
<p style="MARGIN-LEFT: 20px"><br>При установке данного флага становится обязательным указание типа документа или справочника на основании которого можно создавать сообщение по данному шаблону. Реквизиты данного документа или справочника становятся доступными в качестве параметров шаблона. При создании письма или сообщения SMS из формы списка или элемента указанного типа документов или справочников выбор шаблонов будет ограничен теми, у которых данный тип <b>Вводится на основании</b> совпадает. При этом соответствующий параметр будет заполнен автоматически.</p>
<p style="MARGIN-LEFT: 20px"></p>
<table bgcolor="#eeeeff" border="0"><tbody><tr><td><tt>Пример. Для шаблона, предназначенного для оповещения клиентов о изменившемся статусе заказа, в качестве <b>Вводится на основании </b>необходимо указать <b>Документ Заказ клиента</b>. В этом случае менеджер, изменив статус заказа, сможет из формы документа создать сообщение по данному шаблону и не будет тратить время на указание документа.</tt></td></tr></tbody></table><a name="70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fab0c86f8c09">
<h3 style="MARGIN-LEFT: 0px">Выбор взаимодействия</h3></a>
<p style="MARGIN-LEFT: 20px"><br>Доступно два типа взаимодействий - <a href="Document.ЭлектронноеПисьмоИсходящее/Help">Email</a> и <a href="Document.СообщениеSMS/Help">SMS</a>. Укажите нужный вид при помощи переключателя <b>По шаблону создается</b>.</p>
<p style="MARGIN-LEFT: 20px">Если создается электронное письмо, то доступно формирование шаблона темs, текста письма, и указание печатных форм документов и справочников, которые необходимо приложить к письму.<br><br>Если создается cообщение SMS, то доступно формирование шаблона текста сообщения.</p><a name="70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fab25b391f7f">
<h3 style="MARGIN-LEFT: 0px">Параметры шаблона</h3></a>
<p style="MARGIN-LEFT: 20px"><br>Параметр шаблона - это реквизит, который должен будет указать пользователь при формирования сообщения по шаблону. Параметры могут быть как простого типа (строка, число, дата), так и представлять из себя документ или справочник определенного типа. <br>В случае если параметр простого типа, то при создании сообщения подставится указанное пользователем значение. Параметры простых типов в дереве параметры находятся в группе <b>Произвольные</b>. <br>Если параметр документ или справочник, то он становится отдельной группой в дереве параметров, а элементами этой группы являются связанные с заказом реквизиты. Например, текущий статус заказа, сумма заказа, контактное лицо.</p>
<p style="MARGIN-LEFT: 20px"></p>
<table bgcolor="#eeeeff" border="0"><tbody><tr><td><tt>Пример. В сообщение необходимо выводить фамилию контактного лица партнера, ответственного за заказ, номер заказа и текущий статус заказа. Все эти данные находятся в различных реквизитах заказа. Чтобы данные реквизиты стали доступны для указания из в шаблоне, необходимо, воспользовавшись одноименной командой таблицы <b>Параметры</b> добавить параметр типа <b>Документ Заказ клиента</b>. В результате для добавления в тело шаблона будут доступны эти и другие реквизиты заказа.</tt></td></tr></tbody></table><p style="MARGIN-LEFT: 20px">Добавить параметр в шаблон можно при помощи одноименной команды таблицы <b>Параметры</b>. При добавлении параметра необходимо указать:<br></p>
<ul style="MARGIN-LEFT: 40px"><li><b>Тип параметра</b> 
</li><li><b>Представление параметра</b> - так этот параметр будет отображаться в дереве параметров шаблона, а при создании сообщения по шаблону транформируется в заголовок реквизита, который будет нужно заполнить. 
</li><li><b>Имя параметра</b> - будет использоваться при формировании тела шаблона. Не должно содержать пробелов. Заполняется автоматически путем удаления пробелов из Представления параметра, но может быть изменен в дальнейшем.</li></ul><a name="70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fb3a657bfaa0">
<h3 style="MARGIN-LEFT: 0px">Добавление параметров в шаблоны текста </h3></a>
<p style="MARGIN-LEFT: 20px"><br>Необходимо позиционироваться на нужном параметре в дереве, и перетащить его в нужное место текста сообщения</p>
<p style="MARGIN-LEFT: 20px"></p>
<table bgcolor="#eeeeff" border="0"><tbody><tr><td><tt>Пример. Необходимо в начале письма по изменившемуся статусу заказа обратится к контактному лицу клиента, с которым происходит взаимодействие по заказу. В поле текст письма вводим текст 'Уважаемый (-ая)', затем позиционируемся на реквизите <b>Наименование контактного лица</b> параметра <b>Заказ клиента</b> и перетаскиваем его в шаблон текста письма. В результате текст шаблона письма будет содержать 'Уважаемый(-ая) [ЗаказКлиента.КонтактноеЛицоНаименование]'. При формировании письма по заказу, у которого указано контактное лицо 'Сидоров Иван Иванович' будет сформировано тело письма Уважаемый(-ая) Сидоров Иван Иванович'.</tt></td></tr></tbody></table><a name="70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fb412177144a">
<h3 style="MARGIN-LEFT: 0px">Создание шаблонов в формате HTML</h3></a>
<p style="MARGIN-LEFT: 20px"><br>Шаблоны в формате HTML доступны для создания, если предвартельно была задействована функциональная опция <b>Исходящие письма в формате HTML</b> в разделе <b>НСИ и администрирование - Почта, задачи - Почта</b>. Изменить формат тела шаблона письма возможно при помощи переключателя <b>Формат письма</b>.</p><a name="70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fb3d8a439b22">
<h3 style="MARGIN-LEFT: 0px">Приложение печатныех форм</h3></a>
<p style="MARGIN-LEFT: 20px"><br>Воспользуйтесь командой <b>Показать печатные формы</b>. Все доступные печатные формы для выбранных параметров будут отображены в виде древовидной структуры, которое расположено под деревом параметров. Пометьте необходимые печатные формы.</p>
<p style="MARGIN-LEFT: 20px"></p>
<table bgcolor="#eeeeff" border="0"><tbody><tr><td><tt>Пример. Клиентам рассылаются письма о том, что им выставлен счет по заказу. Логично, что к такому письму будет приложена печатная форма самого счета. Укажите, что шаблон вводится на основании документа Счет на оплату. В дереве печатных форм пометьте нужную печатную форму. При формировании письма по данному шаблону, к нему будет приложена выбранная печатная форма.</tt></td></tr></tbody></table><p style="MARGIN-LEFT: 20px">Скрыть дерево печатных форм можно при помощи команды <b>Скрыть печатные формы</b>.</p>
<p style="MARGIN-LEFT: 20px">По умолчанию печатные формы отравляются в формате PDF. Изменить формат вложений можно в списке доступных форматов, в который можно перейти по гиперссылке.</p>
<p style="MARGIN-LEFT: 20px">Если установить флаг <b>Упаковать в архив,</b> то прикладываемые к письму печатные формы будут заархивированы.</p><a name="70a6370b13ca43baa611bed9691c4611919afee61f135f174b11e2fb3f877652cc">
<h3 style="MARGIN-LEFT: 0px">Проверка шаблонов</h3></a>
<p style="MARGIN-LEFT: 20px"><br>Шаблон проверяется автоматически при записи. При необходимости можно проверить шаблон и при редактировании, воспользовавшись командной <b>Проверить шаблон</b>. Будет сообщено о ошибках если текст сообщения пустой или содержит некорректные параметры.</p>
<p> </p></body></html>