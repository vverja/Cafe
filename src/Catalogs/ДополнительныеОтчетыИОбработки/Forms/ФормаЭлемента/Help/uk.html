<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta localizatorhash="ECF1B559262CC31A9A08E13A3132281C" content="text/html;charset=utf-8" http-equiv="content-type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta localizatorhash="ECF1B559262CC31A9A08E13A3132281C" name="GENERATOR" content="MSHTML 11.00.10570.1001"></meta></head><body>
<p>Реєстрація в програмі <a href="Catalog.ДополнительныеОтчетыИОбработки/Help">додаткових звітів і обробок</a>.</p>
<p>Частину відомостей в картці додаткового звіту чи обробки програма проставляє по умовчанню, вони вказані розробником у файлі зовнішньої обробки або звіту і їх неможливо змінити (список команд та додаткова інформація). Кожна додаткова обробка може надавати одну або кілька команд, що розміщуються у вікнах об'єктів програми або в розділах програми.</p>
<p>Існують два типи додаткових звітів і обробок: </p>
<ul><li><a href="#A">Призначувані</a> - призначені для конкретних документів або списків програми, яких може бути декілька, при цьому список доступних призначень визначений розробником заздалегідь і включений у текст додаткового звіту або розробки. При реєстрації можна тільки вибрати їх зі списку. </li>
<li><a href="#B">Глобальні або загальні</a> - містять команди, які викликаються тільки з розділів командного інтерфейсу. Команди не залежать від конкретних об'єктів програми. Список доступних розділів для розміщення команд визначений розробником заздалегідь і включений в файл додаткового звіту або обробки, його неможливо змінити.</li></ul><p>Залежно від призначення і настройок в додаткових звітах і обробках може бути кілька вкладок. Команди, які є обов'язковою частиною, розміщуються на спеціальній вкладці. На закладці <strong>Додаткова інформація</strong>, яка також є обов'язковою, розміщуються відомості про додаткову доробку або звіт. Інші вкладки можуть мати різний вміст і найменування. Також на додаткових вкладках можуть розміщуватися спеціальні команди.</p>
<p>При реєстрації додаткового звіту або обробки на вкладці необхідно вказати основні параметри:</p>
<ul><li>
<div><strong>Найменування</strong> - вказується розробником і виводиться автоматично, при необхідності можна змінити.</div>
</li>
<li>
<div><strong>Режим роботи</strong> - <a href="#1">режим підключення</a> додаткових звітів і обробок, приймає значення <strong>Безпечний </strong>та <strong>Небезпечний</strong>.</div>
</li>
<li>
<div>
<p>З допомогою тумблера <strong>Публікація</strong> можна включити або відключити доступність обробки або звіту, регулюючи використання додаткових звітів та обробок. Можна зробити додаткову обробку або звіт доступною для всіх, тільки для адміністратора або відключити. Реквізит може приймати наступні значення:</p>
<ul><li>
<div><strong>Використовується </strong>- обробка доступна для використання. Команди обробки доступні в програмі для всіх користувачів зі встановленою роллю "Використання додаткових звітів і обробок".</div>
</li>
<li>
<div>
<div><strong>Режим налагодження</strong> - обробка доступна тільки для використання користувачу з роллю "Додавання і зміна додаткових обробок" або роллю "Повні права" (у списку відображається червоним кольором). При цьому іншим користувачам ці команди не видно. Такий режим зручний, якщо додатковий звіт або обробка потребує перевірки.</div></div>
</li>
<li>
<div><strong>Відключена</strong>-обробка недоступна для використання, в списку стає неактивною. Така можливість зручна, якщо потрібно припинити використання обробки на час, але не видаляти її, в цьому випадку всі налаштування зберігаються і при переведенні в інший режим обробка починає виконуватися як раніше.</div></li></ul></div>
</li>
<li><strong>Коментар</strong> - введіть докладний опис. </li>
<li>
<div><strong>Відповідальний</strong> - виберіть користувача, який буде відслідковувати стан додаткового звіту або обробки, оновлювати і т.і. По умовчанню "Адміністратор".</div></li></ul><h3>Додаткова інформація</h3>
<ul><li>Виводяться додаткові відомості, які заповнюються розробником: <ul><li><strong>Вид</strong> - існує кілька видів додаткових звітів і обробок: <ul><li><strong>Додатковий звіт</strong>; </li>
<li><strong>Звіт</strong>; </li>
<li><strong>Заповнення об'єкта</strong>; </li>
<li><strong>Друкована форма</strong>; </li>
<li><strong>Створення пов'язаних об'єктів</strong>.</li></ul></li>
<li><strong>Ім'я файлу</strong>; </li>
<li><strong>Версія</strong>; </li>
<li><strong>Ім'я об'єкта</strong>; </li>
<li><strong>Опис </strong>- детальна інформація про додатковий звіт або обробку.</li></ul></li>
<li><strong>Група </strong>- увімкніть додаткову обробку або звіт в одну з груп. Виберіть потрібну групу зі списку. Групи допомагають упорядкувати додаткові звіти і обробки.</li></ul><h3>Завантаження з файлу</h3>
<ul><li>За допомогою кнопки <strong>Завантажити з файлу</strong> можна оновити обробку у внутрішньому сховищі програми. Вид обробки, яка завантажується повинен відповідати поточному виду обробки. Вкажіть шлях до файлу, натисніть <strong>Відкрити</strong>.</li></ul><h3>Вивантаження у файл</h3>
<ul><li>За допомогою команди <strong>Вивантаження у файл</strong> можна вивантажити додатковий звіт або обробку зі сховища в файл на диску комп'ютера. Вкажіть папку на комп'ютері, натисніть <strong>Зберегти</strong>. Ім'я файлу присвоюється автоматично, є можливість його перейменувати.</li></ul><h3><a name="#1">Режим роботи</a></h3>
<ul><li>Як правило, більшість обробок повинні виконуватися в безпечному режимі. Це гарантує, що вони не містять "ненадійний" програмний код, який виконується на сервері. </li>
<li>Однак деякі обробки можуть вимагати виконання в небезпечному режимі. Такі обробки слід завантажувати тільки з надійних джерел (постачальників) або перед завантаженням самостійно виконувати їх аудит. </li></ul><h3>Особливості реєстрації <a name="#A">призначуваних</a> додаткових обробок і звітів</h3>
<ul><li>Для додаткових обробок або звітів, призначених для роботи зі списками документами або програми, можна вибрати зі списку об'єкти, в яких будуть доступні команди обробки або звіту. <ul><li><strong>Призначення</strong> - для вибору об'єктів програми натисніть посилання, яке приймає значення <strong>Не визначено</strong> (якщо жодного об'єкта не обрано) або перераховує вибрані об'єкти. За допомогою прапорців виберіть потрібні об'єкти. </li>
<li><strong>Показувати</strong> - команди обробок або звітів можуть бути доступні: <ul><li>зі списку вибраних об'єктів, якщо встановлено прапорець<strong> У списках</strong>; </li>
<li>з вікна самого об'єкта, якщо встановлено прапорець <strong>У формах елементів довідників і документів</strong>. Можна встановити обидва прапорця одночасно.</li></ul></li></ul></li>
<li>
<div>на вкладці <strong>Команди </strong>перелік команд заповнюється за замовчуванням зі списку, заповненого розробником. Ці команди стають доступними в зазначеному в призначенні списку або документі при підключенні додаткового звіту або обробки.</div></li></ul><h3>Особливості реєстрації <a name="#B">глобальних</a> (загальних) додаткових звітів і обробок</h3>
<ul><li>Для обробок та звітів, які викликаються з командного інтерфейсу (не прикріплюються до об'єктів конфігурації), необхідно вказати розділи інтерфейсу, в яких команди обробок будуть доступні через команди <strong>Додаткові звіти</strong> і <strong>Додаткові обробки</strong>. <ul><li><strong>Розміщення</strong> - для вибору розділів натисніть посилання, яке приймає значення <strong>Не визначено</strong> (якщо жодного розділу не обрано) або перераховує вибрані розділи. За допомогою прапорців виберіть потрібні розділи програми, для підтвердження настройки натисніть <strong>ОК</strong>.</li></ul></li>
<li>Перелік команд і їх настройки можуть розміщуватися на окремій вкладці <strong>Команди</strong>. На вкладці виводиться: <ul><li><strong>Найменування </strong>- повне найменування команди; </li>
<li>у колонці <strong>Швидкий доступ</strong> натисніть <img src="StdPicture.Select"></img> або клавішу <strong>F4 </strong>і виберіть зі списку користувачів, для яких команда буде доступна за замовчуванням. За замовчуванням проставлено значення "Ні". Додайте користувачів в список. Для підтвердження вибору і повернення до подальшоъ настройки натисніть <strong>ОК</strong>; </li>
<li>у колонці <strong>Розклад </strong>для кожної команди глобальних звітів і обробок, виконуваних в серверному контексті, натисніть <img src="StdPicture.Select"></img> і задайте розклад, за яким буде запускатися <a href="DataProcessor.РегламентныеИФоновыеЗадания.Form.РегламентноеЗадание/Help">регламентне завдання</a> для виконання цієї команди. Розклад не застосовується для команд з варіантом запуску <strong>Відкриття форми</strong>.</li></ul></li></ul><h3>Послідовність створення додаткової обробки (звіту)</h3>
<ul><li>
<div>Створити зовнішню обробку (звіт);</div>
</li>
<li>
<div>Реєстрація додаткової обробки в інформаційній базі відбувається на підставі відомостей, які постачає сама обробка. Ці відомості повинні повертатися у вигляді структури в функції СведенияОВнешнейОбработке.</div></li></ul><h3>Приклад реалізації функції СведенияОВнешнейОбработке з використанням програмного інтерфейсу </h3>
<p><span class="keyword">Функція</span> СведенияОВнешнейОбработке<span class="operator">(</span><span class="operator">)</span> <span class="keyword">Экспорт</span><br> ПараметрыРегистрации <span class="operator">=</span> ДополнительныеОтчетыИОбработки<span class="operator">.</span>СведенияОВнешнейОбработке<span class="operator">(</span><span class="string">"2.2.2.1"</span><span class="operator">)</span><span class="operator">;</span><br> ПараметрыРегистрации<span class="operator">.</span>Вид <span class="operator">=</span> ДополнительныеОтчетыИОбработкиКлиентСервер<span class="operator">.</span>ВидОбработки<span class="operator">&lt;</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">&gt;</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span><br> ПараметрыРегистрации<span class="operator">.</span>Версия <span class="operator">=</span> <span class="string">"..."</span><span class="operator">;</span><br> Команда <span class="operator">=</span> ПараметрыРегистрации<span class="operator">.</span>Команды<span class="operator">.</span>Добавить<span class="operator">(</span><span class="operator">)</span><span class="operator">;</span><br> Команда<span class="operator">.</span>Представление <span class="operator">=</span> НСтр<span class="operator">(</span><span class="string">"ru = '&lt;Представление команды&gt;'"</span><span class="operator">)</span><span class="operator">;</span><br> Команда<span class="operator">.</span>Идентификатор <span class="operator">=</span> <span class="string">"&lt;Имя команды&gt;"</span><span class="operator">;</span><br> Команда<span class="operator">.</span>Использование <span class="operator">=</span> ДополнительныеОтчетыИОбработкиКлиентСервер<span class="operator">.</span>ТипКоманды<span class="operator">&lt;</span><span class="operator">.</span><span class="operator">.</span><span class="operator">.</span><span class="operator">&gt;</span><span class="operator">(</span><span class="operator">)</span><span class="operator">;</span><br> Команда<span class="operator">.</span>ПоказыватьОповещение <span class="operator">=</span> <span class="operator">&lt;</span>Истина<span class="operator">/</span>Ложь<span class="operator">&gt;</span><span class="operator">;</span><br><span class="keyword">Возврат</span> ПараметрыРегистрации<span class="operator">;</span> <br><span class="keyword">КонецФункции</span></p>
<p><span class="keyword">Детальніше див. на <a href="http://its.1c.ua/db/bspdoc#content:427:1:issogl1_использование_при_разработке_конфигурации">сайті ІТС</a>. </span></p>
<h3>Див. також:</h3>
<ul><li><a href="v8help://1cv8/ExtRepotrs">Зовнішні звіти та обробки</a>.</li></ul></body></html>