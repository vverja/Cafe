#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("АвтоТест") Тогда // Возврат при получении формы для анализа.
		Возврат;
	КонецЕсли;
	
	Если Параметры.Свойство("Подтверждение") Тогда
		Элементы.Даты.ТекущаяСтраница = Элементы.Подтверждение;
	Иначе
		Элементы.Даты.ТекущаяСтраница = Элементы.Оплата;
	КонецЕсли;
	
	Параметры.Свойство("НомерДокумента", НомерДокумента);
	Параметры.Свойство("ДатаДокумента", ДатаДокумента);
	Параметры.Свойство("ДатаПеречисления", ДатаПеречисления);
	Параметры.Свойство("ДатаПодтверждения", ДатаПодтверждения);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Подтвердить(Команда)
	
	Если НЕ ПроверитьЗаполнение() Тогда
		Возврат;
	КонецЕсли;
	
	Результат = Новый Структура;
	Результат.Вставить("ДатаДокумента",    ДатаДокумента);
	Результат.Вставить("НомерДокумента",   НомерДокумента);
	Результат.Вставить("ДатаПеречисления", ДатаПеречисления);
	Результат.Вставить("ДатаПодтверждения", ДатаПодтверждения);
	
	Закрыть(Результат);
	
КонецПроцедуры

&НаСервере
Процедура ОбработкаПроверкиЗаполненияНаСервере(Отказ, ПроверяемыеРеквизиты)
	
	Если Элементы.Даты.ТекущаяСтраница = Элементы.Подтверждение Тогда
		
		ПроверяемыеРеквизиты.Удалить(ПроверяемыеРеквизиты.Найти("ДатаПеречисления"));
		Если Не ЗначениеЗаполнено(ДатаПодтверждения) Тогда
			ПроверяемыеРеквизиты.Очистить();
		КонецЕсли;
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти