<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta localizatorhash="5FCCE58747F0B4645F38F381DFA0F85B" content="text/html;charset=utf-8" http-equiv="content-type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta localizatorhash="5FCCE58747F0B4645F38F381DFA0F85B" name="GENERATOR" content="MSHTML 11.00.10240.17443"></meta></head><body>
<p>При копіюванні інформаційної бази в інше місце можливі ситуації, коли обидві інформаційні бази (і оригінал і копія) продовжують взаємодіяти із зовнішніми ресурсами (наприклад, виконання розсилки звітів, синхронізація даних з іншими програмами, відправлення або отримання пошти тощо). Для запобігання таких ситуацій при зміні місця розташування інформаційної бази блокуються всі подібні регламентні завдання. При першому вході в переміщену базу адміністратор повинен прийняти рішення про її роль: інформаційна база була переміщена (тоді робота із зовнішніми ресурсами буде відновлена) або копія інформаційної бази (зберігається блокування роботи із зовнішніми ресурсами).</p>
<h3>Як визначається факт переміщення інформаційної бази</h3>
<p>При визначенні факту переміщення інформаційної бази в першу чергу перевіряється зміна типу розташування інформаційної бази: з файлового на клієнт-сверверний і навпаки. Якщо тип розташування змінився, то база вважається переміщеною. Якщо тип розташування не змінився, то порівнюється рядок з'єднання інформаційної бази. Якщо рядок з'єднання не змінився, то подальша перевірка припиняється і база вважається не переміщеною. Подальша перевірка залежить від типу розташування бази:</p>
<li>
<div>У файловій інформаційній базі факт переміщення визначається за службовим файлом <strong>DoNotCopy.txt</strong>, що автоматично створюється програмою в каталозі інформаційної бази. Усередині файлу знаходиться ідентифікатор інформаційної бази. Якщо файл відсутній або ідентифікатор у файлі відрізняється від ідентифікатора в базі, то інформаційна база вважається переміщеною.</div>
</li><li>
<div>У клієнт-серверній інформаційній базі факт переміщення визначається:</div>
<ul><li>
<div>Щодо зміни імені інформаційної бази. Наприклад, якщо ім'я інформаційної бази було "base_bp", а стало "base_bp_test".</div>
</li><li>
<div>Або по зміні імені комп'ютера та імені сервера. Наприклад, якщо ім'я комп'ютера було "main_server", а стало "test_server", а також змінилося ім'я сервера з "main" на "test".</div></li></ul><p>При роботі в моделі сервісу ознака переміщення програми встановлюється Менеджером сервісу. Якщо інформаційна база завантажується в додаток або вивантажується з нього, то цей факт визначається автоматично.</p>
<h3>Помилкові спрацьовування при перевірці переміщення бази</h3>
<p>Якщо інформаційна база розташована в кластері серверів, що має розгалужену структуру, то можливі помилкові спрацьовування при перевірці переміщення інформаційної бази. Наприклад, кластер складається з двох фізичних серверів, імена комп'ютерів, у яких "srv1" і "srv2", при цьому платформа дозволяє прописувати ім'я сервера в рядку підключення по-різному: за ip адресою або за буквенним позначенням. При цьому ім'я інформаційної бази завжди залишається незмінним, а ім'я сервера і ім'я комп'ютера може змінюватися в залежності від поточного сервера і варіанту запису в рядку з'єднання. У цьому випадку рекомендується в меню <strong>Ще</strong> зняти прапорець <strong>Перевіряти ім'я сервера</strong>, тоді перевірка факту переміщення бази буде здійснюватися тільки за іменем інформаційної бази.</p>
<h3>Див. також:</h3>
<ul><li>
<div><a href="v8help://frame/form_common"><font color="#0066cc">Робота з формами</font></a>.</div></li></ul></li></body></html>