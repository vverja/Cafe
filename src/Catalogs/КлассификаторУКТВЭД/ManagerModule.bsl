#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда
	
#Область ОбработчикиСобытий

Процедура ОбработкаПолученияДанныхВыбора(ДанныеВыбора, Параметры, СтандартнаяОбработка)
	
	Возврат;
	
	Если Параметры.СтрокаПоиска = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	СтандартнаяОбработка = Ложь;
	
	ТекстЗапроса = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ ПЕРВЫЕ 50
	|	ДанныеСправочника.Ссылка КАК Ссылка
	|ИЗ
	|	Справочник.КлассификаторУКТВЭД КАК ДанныеСправочника
	|ГДЕ
	|	ДанныеСправочника.Код ПОДОБНО &СтрокаПоиска СПЕЦСИМВОЛ ""\""";
	
	Запрос = Новый Запрос(ТекстЗапроса);
	Запрос.УстановитьПараметр("СтрокаПоиска", СтрЗаменить(Параметры.СтрокаПоиска,"\","\\") + "%");
	
	ДанныеВыбора = Новый СписокЗначений;
	ДанныеВыбора.ЗагрузитьЗначения(Запрос.Выполнить().Выгрузить().ВыгрузитьКолонку("Ссылка"));
	Если Параметры.Свойство("СоздатьНовый") И Параметры.СоздатьНовый Тогда
		Если ПравоДоступа("Добавление", Метаданные.Справочники.КлассификаторУКТВЭД) Тогда
			ДанныеВыбора.Вставить(0, Параметры.СтрокаПоиска, НСтр("ru='<Создать новый>';uk='<Створити новий>'"));
		КонецЕсли;
	КонецЕсли;

КонецПроцедуры

#КонецОбласти

#КонецЕсли
