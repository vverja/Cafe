<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta localizatorhash="0C9790AA95722F306FC8C700167F36BF" content="text/html;charset=utf-8" http-equiv="content-type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta localizatorhash="0C9790AA95722F306FC8C700167F36BF" name="GENERATOR" content="MSHTML 11.00.10240.17443"></meta></head><body>
<p>Для адміністратора в програмі передбачена можливість завершувати роботу всіх активних <a href="Catalog.Пользователи/Help">користувачів</a> (включаючи <a href="Catalog.Пользователи.Form.ФормаЭлемента/Help">користувача</a>, який ініціював блокування) і блокувати вхід в програму на певний період часу. </p>
<p>Така можливість затребувана для проведення профілактичних або термінових робіт в програмі. Зазвичай такі роботи проводять в нічні години, щоб не ускладнювати роботу в програмі інших користувачів. Однак бувають різні позапланові ситуації. Наприклад, необхідно провести оновлення версії програми, відновлення програми після збою електропостачання, резервне копіювання інформаційної бази, або головному бухгалтеру необхідно терміново розрахувати складний звіт. Більшість цих робіт не можуть бути проведені, якщо користувачі продовжують працювати в програмі.</p>
<p>При роботі в клієнт-серверному режимі є можливість блокування роботи <a href="DataProcessor.РегламентныеИФоновыеЗадания/Help">регламентних завдань</a>.</p>
<p><strong>Блокування роботи користувачів </strong>виконується за відповідною командою розділу <strong>НДІ та адміністрування - Підтримка та обслуговування</strong>.</p>
<h3>Перехід до списку Активні користувачі</h3>
<ul><li>Натисніть <a href="DataProcessor.АктивныеПользователи/Help">Активні користувачі</a> для того щоб подивитися, які користувачі, які зараз працюють в програмі. </li></ul><h3>Інформація про стан блокування</h3>
<ul><li>Над параметрами блокування виводиться повідомлення про стан блокування: "Робота користувачів у програмі дозволена (заборонена)". В останньому випадку повідомлення виділяється червоним кольором. </li></ul><h3>Блокування роботи користувачів</h3>
<ul><li>
<div>При встановленні блокування необхідно задати наступні параметри: </div>
<ul><li>
<div><strong>Повідомлення для користувачів</strong> - напишіть текст повідомлення, що видається користувачам в якості попередження про планове блокування з'єднань. Вкажіть, коли необхідно вийти з програми, опишіть причину і очікуваний період блокування: Наприклад: "Прохання завершити свою роботу в програмі до 20:00 у зв'язку з проведенням профілактичних робіт. База буде недоступною приблизно 30 хвилин »). </div>
</li>
<li>Терміни блокування (дата і час початку, дата і час закінчення). Закінчення строку блокування може не заповнюватися, в цьому випадку увійти в програму буде неможливо до зняття блокування адміністратором. </li>
<li><strong>Код для розблокування</strong> - довільний рядок, використовуючи який в якості параметра запуску "<strong>/ UC</strong> " надалі можна буде увійти в програму, незважаючи на встановлене блокування. </li>
<li><strong>Включити можливість управління блокуванням регламентних завдань</strong> -  натисніть на посилання, для того щоб в клієнт-серверному варіанті програми заборонити запуск регламентних завдань на час дії блокування. У більшості випадків рекомендується використовувати цю можливість.</li></ul></li>
<li>
<div>Для того, щоб заблокувати роботу користувачів, натисніть <strong>Встановити блокування</strong>. Попередньо програма запитує підтвердження адміністратора. Для підтвердження натисніть <strong>ОК</strong>.</div>
</li>
<li>
<div>До початку терміну блокування під час підготовчих робіт до завершення роботи користувачів можна натиснути <strong>Зупинити</strong> і скасувати блокування.</div></li></ul><h3>Дії по завершенню роботи в клієнтському додатку</h3>
<ul><li>
<div>Приблизно за 15 хвилин до початку дії блокування всім активним користувачам видаються попередження про запланований час початку блокування з'єднань і заданий текст повідомлення блокування.</div>
</li>
<li>
<div>При настанні часу блокування буде автоматично виконана спроба завершення сеансів роботи користувачів, підключених до інформаційної базі, з видачею відповідних запитів про збереження даних і завершення роботи. Увійти в програму з цього моменту буде неможливо, блокування триватиме до зазначеного адміністратором часу. При цьому будуть виконані стандартні дії при завершенні роботи - запит на завершення (якщо користувач налаштував собі підтвердження закриття), вимкнення торгового обладнання і т. д. </div>
</li>
<li>
<div>потрібно мати на увазі, що до моменту початку блокування у програмі можуть існувати "завислі" сеанси (наприклад, якщо користувачі в кінці робочого дня забули вийти з програми, програма зависла або був запущений складний звіт). Для того щоб подивитися дані про поточні сеанси роботи, натисніть <a href="DataProcessor.АктивныеПользователи/Help">Активні користувачі</a>. Гарантоване завершення всіх сеансів користувачів можливе тільки в клієнт-серверному варіанті програми. У файловому варіанті програми потрібно завершити "завислі" сеанси користувачів на їх робочих місцях, а також, якщо необхідно, завершити інші програми, які підключені до бази по зовнішньому з'єднанню (COM) або з допомогою веб-сервісів.</div>
</li>
<li>
<div>Якщо примусове завершення сеансів з якихось причин неможливо (наприклад, один з користувачів працює в Конфігураторі), виводиться повідомлення про помилку зі списком користувачів і блокування не встановлюється.</div>
</li>
<li>
<div>Після завершення роботи всіх активних користувачів у зазначений час програма також видає повідомлення адміністратору про необхідність завершення сеансу. Для того щоб залишитися в програмі і провести заплановану в ній роботу, можна натиснути кнопку <strong>Ні</strong>.</div>
</li>
<li>
<div>
<div>При спробі увійти в програму в період дії блокування з'явиться попередження з інструкцією для адміністратора. Для того щоб дозволити роботу користувачів, адміністратору пропонується провести запуск програми з <a href="#1">параметрами</a>:</div></div>
<ul><li>
<div>
<div>Нове підключення до інформаційної бази, починаючи з цього моменту і до закінчення дії блокування, буде можливо тільки в тому випадку, якщо в параметрі командного рядка "<strong>/UC</strong>" або параметрі рядка з'єднання "<strong>UC</strong>" вказано код доступу.</div></div></li></ul></li></ul><h3>Зняття блокування роботи користувачів</h3>
<ul><li>
<div>Блокування роботи користувачів після настання зазначеного адміністратором терміну знімається автоматично.</div>
</li>
<li>
<div>Для зняття блокування до закінчення терміну можна застосувати такі способи:</div>
<ul><li>
<div>Не завершуючи роботу в програмі, після закінчення запланованих робіт до закінчення терміну блокування натиснути <strong>Блокування роботи користувачів</strong> розділу <strong><strong>НДІ і адміністрування</strong> - Підтримка та обслуговування</strong>, відкрити це вікно, натиснути <strong>Зняти блокування</strong>;</div>
</li>
<li>
<div>Увійти в програму і зняти блокування для всіх користувачів, використовуючи зазначені у попередженні параметри запуску "<strong>/С РазрешитьРаботуПользователей</strong>" і "<strong>/UC</strong>" з кодом доступу, який був вказаний при установці блокування;</div>
<ul><li>
<div>Примітка: запуск клієнтського додатка з параметром <strong>РазрешитьРаботуПользователей</strong> призначений тільки для зняття блокування і не призначений для роботи з програмою. </div></li></ul></li>
<li>
<div>Увійти в програму, не знімаючи блокування, і зняти блокування після проведення запланованих робіт: </div>
<ul><li>
<div>для входу в програму використовувати зазначені у повідомленні параметри запуску, але без ключа "<strong>/C</strong>". </div>
</li>
<li>
<div>У параметрі "<strong>/UC</strong>" написати код дозволу доступу, який був вказаний при встановленні блокування.</div>
</li>
<li>
<div>після проведення запланованих робіт до закінчення терміну блокування вибрати команду <strong>Блокування роботи користувачів</strong> в розділі <strong><strong>НДІ та адміністрування</strong> - Підтримка та обслуговування</strong>, натиснути кнопку <strong>Зняти блокування</strong>.</div></li></ul></li></ul></li></ul><h3><a name="#1">Використання параметрів запуску програми</a></h3>
<p>Під час запуску програми можуть використовуватися різні параметри. Докладніше про параметри запуску див. документацію до платформи.</p>
<ul><li>
<div>У рядку для запуску програми можна використовувати наступні параметри:</div>
<ul><li>
<div>В параметрі <strong>/F</strong> вкажіть шлях до бази ("C:\Documents and Settings\....\1C\DemoSSL"</div>
</li>
<li>
<div>У параметрі <strong>/N</strong> вкажіть ім'я користувача</div>
</li>
<li>
<div>В параметрі <strong>/P</strong> вкажіть пароль</div>
</li>
<li>
<div>В параметрі <strong>/C</strong> вказуються параметри-команди, наприклад, <strong>РазрешитьРаботуПользователей</strong>.</div>
</li>
<li>
<div>В параметрі <strong>/UC</strong> вкажіть код доступу, який був заданий при блокуванні роботи користувачів.</div></li></ul></li>
<li>
<div>Для установки блокування також можна використовувати запуск програми з параметром <strong>ЗавершитьРаботуПользователей</strong>:</div>
<ul><li>
<div>"C:\Program Files\1cv8\bin\1cv8.exe" ENTERPRISE /F"C:\Documents and Settings\Админ\Мои документы\BAS\DemoSSL" /NAdministrator /Pххххх /CЗавершитьРаботуПользователей</div></li></ul></li>
<li>
<div>Для зняття блокування рекомендується використовувати запуск програми з параметром <strong>РазрешитьРаботуПользователей</strong>.</div>
<ul><li>
<div>"C:\Program Files\1cv8\bin\1cv8.exe" ENTERPRISE \F"C:\Documents and Settings\Админ\Мои документы\BAS\DemoSSL" /CРазрешитьРаботуПользователей /UC &lt;код разрешения&gt;</div>
</li>
<li>
<div>Запуск клієнтської прикладної програми з параметром <strong>РазрешитьРаботуПользователей</strong> призначений тільки для зняття блокування і не призначений для роботи з програмою, тобто цей параметр призначений для виконання в пакетному режимі - робота клієнтської прикладної програми, запущеної з цим параметром, буде завершена відразу після запуску.</div></li></ul></li></ul><h3>Додаткові можливості та обмеження</h3>
<ul><li>
<div>У клієнт-серверному варіанті роботи також є можливість заблокувати виконання регламентних і фонових завдань. Для цього може знадобитися ввести додаткові <a href="CommonForm.ПараметрыАдминистрированияПрограммы/Help">параметри</a> для підключення до кластера серверів за командою <strong>Параметри адміністрування програми</strong>. Крім того, для виконання дій установки і зняття блокування роботи користувачів також можна використовувати утиліту адміністрування кластеру серверів платформи. </div>
</li>
<li>
<div>
<div>У клієнт-серверному режимі роботи не гарантується завершення всіх регламентних і фонових завдань (коли, в рідкісних випадках, вони не можуть бути завершені примусово).</div></div>
</li>
<li>
<div>У файловому режимі роботи блокування з'єднань не може бути встановлено, якщо з базою в даний момент часу працюють через COM (зовнішнє з'єднання), веб-сервіси або відкритий Конфігуратор. </div></li></ul></body></html>